var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n=function(){function e(){this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},this.initSelector=":jqmData(role='wijsuperpanel')",this.allowResize=!1,this.autoRefresh=!1,this.animationOptions={queue:!1,disabled:!1,duration:250,easing:undefined},this.hScrollerActivating=null,this.hScroller={scrollBarPosition:"bottom",scrollBarVisibility:"auto",scrollMode:"scrollBar",scrollValue:null,scrollMax:100,scrollMin:0,scrollLargeChange:null,scrollSmallChange:null,scrollMinDragLength:6,increaseButtonPosition:null,decreaseButtonPosition:null,hoverEdgeSpan:20,firstStepChangeFix:0},this.keyboardSupport=!1,this.keyDownInterval=100,this.mouseWheelSupport=!0,this.bubbleScrollingEvent=!0,this.resizableOptions={handles:"all",helper:"ui-widget-content wijmo-wijsuperpanel-helper"},this.resized=null,this.dragStop=null,this.painted=null,this.scrolling=null,this.scroll=null,this.scrolled=null,this.showRounder=!0,this.vScrollerActivating=null,this.vScroller={scrollBarPosition:"right",scrollBarVisibility:"auto",scrollMode:"scrollBar",scrollValue:null,scrollMax:100,scrollMin:0,scrollLargeChange:null,scrollSmallChange:null,scrollMinDragLength:6,increaseButtonPosition:null,decreaseButtonPosition:null,hoverEdgeSpan:20,firstStepChangeFix:0},this.customScrolling=!1,this.listenContentScroll=!1}return e}(),r=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.destroy=function(){},t.prototype.needToScroll=function(e){},t.prototype.scrollChildIntoView=function(e){},t.prototype.hScrollTo=function(e){},t.prototype.vScrollTo=function(e){},t.prototype.scrollPxToValue=function(e,t){},t.prototype.scrollTo=function(e,t){},t.prototype.refresh=function(){},t.prototype.paintPanel=function(e){},t.prototype.getContentElement=function(){},t}(e.wijmoWidget);e.wijsuperpanel=r;var i;if(!t.support.isTouchEnabled||!t.support.isTouchEnabled()){var s="wijmo-wijsuperpanel-handle",o="wijmo-wijsuperpanel-hbarcontainer",u="wijmo-wijsuperpanel-vbarcontainer",a="",f="<div class='wijmo-wijsuperpanel-statecontainer'><div class='wijmo-wijsuperpanel-contentwrapper'><div class='wijmo-wijsuperpanel-templateouterwrapper'></div></div></div>",l="<div class='wijmo-wijsuperpanel-hbarcontainer {header}'><div class='wijmo-wijsuperpanel-handle {stateDefault} {cornerAll}'><span class='{icon} {iconVGripSolid}'></span></div><div class='wijmo-wijsuperpanel-hbar-buttonleft {stateDefault} {cornerBL}'><span class='{icon} {iconArrowLeft}'></span></div><div class='wijmo-wijsuperpanel-hbar-buttonright {stateDefault} {cornerBR}'><span class='{icon} {iconArrowRight}'></span></div></div>",c="<div class='wijmo-wijsuperpanel-vbarcontainer {header}'><div class='wijmo-wijsuperpanel-handle {stateDefault} {cornerAll}'><span class='{icon} {iconHGripSolid}'></span></div><div class='wijmo-wijsuperpanel-vbar-buttontop {stateDefault} {cornerTR}'><span class='{icon} {iconArrowUp}'></span></div><div class='wijmo-wijsuperpanel-vbar-buttonbottom {stateDefault} {cornerBR}'><span class='{icon} {iconArrowDown}'></span></div></div>",h="<div class='{stateDefault} wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttonleft'><span class='{icon} {iconCaratLeft}'></span></div><div class='{stateDefault} wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttonright'><span class='{icon} {iconCaratRight}'></span></div>",p="<div class='{stateDefault} wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttontop'><span class='{icon} {iconCaratUp}'></span></div><div class='{stateDefault} wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttonbottom'><span class='{icon} {iconCaratDown}'> </span></div>";r.prototype=t.extend(!0,{},t.Widget.prototype,{widgetEventPrefix:"wijsuperpanel",_setOption:function(e,n){var r=this,i=r.options,s=r._fields(),o=s.hbarDrag,u=s.vbarDrag,a=s.resizer;e==="animationOptions"?n=t.extend(i.animationOptions,n):e==="hScroller"?(n.scrollLargeChange!==undefined&&n.scrollLargeChange!==null&&(r._autoHLarge=!1),n=t.extend(i.hScroller,n),r.refresh()):e==="vScroller"?(n.scrollLargeChange!==undefined&&n.scrollLargeChange!==null&&(r._autoVLarge=!1),n=t.extend(i.vScroller,n),r.refresh()):e==="resizableOptions"&&(n=t.extend(r.resizableOptions,n)),t.Widget.prototype._setOption.apply(r,arguments),t.isPlainObject(n)&&(r.options[e]=n);switch(e){case"allowResize":r._initResizer();break;case"disabled":n?(o!==undefined&&o.draggable("disable"),u!==undefined&&u.draggable("disable"),a!==undefined&&a.resizable("disable")):(o!==undefined&&o.draggable("enable"),u!==undefined&&u.draggable("enable"),a!==undefined&&a.resizable("enable"));break;case"mouseWheelSupport":case"keyboardSupport":r._bindElementEvents(r,s,r.element,i)}return r},_create:function(){var e=this,n=e.options;n.vScroller.dir="v",n.hScroller.dir="h",e._initMarkup(),window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t)),e.paintPanel(),e._initResizer(),e.options.disabled&&e.disable(),e._detectAutoRefresh(),n.listenContentScroll&&e._listenContentScroll(),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver(),e.refresh()},"wijsuperpanel")},_initMarkup:function(){var e=this.options.wijCSS,t=/\{(\w+?)\}/ig,n=function(t,n){return e[n]};a=e.stateActive,l=l.replace(t,n),c=c.replace(t,n),h=h.replace(t,n),p=p.replace(t,n)},_detectAutoRefresh:function(){var e=this,n=t.wijmo.wijsuperpanel.panels;n===undefined&&(n=[],t.wijmo.wijsuperpanel.panels=n),n.push(e),e.options.autoRefresh&&(t.wijmo.wijsuperpanel.setAutoRefreshInterval||(t.wijmo.wijsuperpanel.setAutoRefreshInterval=e._setAutoRefreshInterval,t.wijmo.wijsuperpanel.setAutoRefreshInterval()))},_setAutoRefreshInterval:function(){var e=t.wijmo.wijsuperpanel.autoRereshInterval,n=t.wijmo.wijsuperpanel.panels,r=window.setInterval(function(){window.clearInterval(r);var e=n.length,i=!1,s,o,u,a,f,l;for(s=0;s<e;s++)o=n[s],u=o.element[0],a=o.options.autoRefresh,a&&(i=!0),f=o.getContentElement(),l=o._paintedMark,o.options.autoRefresh&&f.is(":visible")&&(l===undefined||l.width!==f[0].offsetWidth||l.height!==f[0].offsetHeight||l.mainWidth!==u.offsetWidth||l.mainHeight!==u.offsetHeight)&&o.paintPanel();i&&window.setTimeout(t.wijmo.wijsuperpanel.setAutoRefreshInterval,0)},e===undefined?500:e)},destroy:function(){var e=this,n=e._fields(),r=e.element,i,s,o=e.options.wijCSS;t.wijmo.wijsuperpanel.panels=t.grep(t.wijmo.wijsuperpanel.panels,function(t){return t!==e},!1);if(!n.initialized)return;e._radiusKey&&e.element.css(e._radiusKey,""),n.intervalID!==undefined&&(window.clearInterval(n.intervalID),n.intervalID=undefined),n.resizer!==undefined&&n.resizer.resizable("destroy"),n.hbarContainer!==undefined&&(n.hbarDrag.remove(),n.hbarContainer.unbind("."+e.widgetName)),n.vbarContainer!==undefined&&(n.vbarDrag.remove(),n.vbarContainer.unbind("."+e.widgetName)),r.unbind("."+e.widgetName),n.contentWrapper.unbind("."+e.widgetName),i=n.stateContainer.find(">.wijmo-wijsuperpanel-button"),i.unbind("."+e.widgetName),s=n.templateWrapper,s.contents().each(function(e,t){r.append(t)}),n.stateContainer.remove(),n.tabindex&&r.removeAttr("tabindex"),r.removeClass(["wijmo-wijsuperpanel",o.widget,o.content,o.cornerAll].join(" ")),t.Widget.prototype.destroy.apply(e,arguments)},_fields:function(){var e=this,t=e.element,n=e.widgetName+"-fields",r=e._fieldsStore;return r===undefined&&(r={},t.data(n,r),e._fieldsStore=r),r},_hasMode:function(e,n){var r=e.scrollMode.split(",");return r=t.map(r,function(e){return t.trim(e).toLowerCase()}),t.inArray(n.toLowerCase(),r)>-1},_bindElementEvents:function(e,t,n,r){var i=e._hasMode(r.hScroller,"edge"),s=e._hasMode(r.vScroller,"edge"),o=e.widgetName;i||s?e._mousemoveBind===undefined&&(e._mousemoveBind=!0,n.bind("mousemove."+o,e,e._contentMouseMove),n.bind("mouseleave."+o,null,function(){e._clearInterval()})):(n.unbind("mousemove",e._contentMouseMove),e._mousemoveBind=undefined),r.mouseWheelSupport?e._mouseWheelBind===undefined&&(e._mouseWheelBind=!0,n.bind("mousewheel."+o,e,e._panelMouseWheel)):(e.element.unbind("mousewheel",e._panelMouseWheel),e._mouseWheelBind=undefined),r.keyboardSupport?e._keyboardBind===undefined&&(e._keyboardBind=!0,n.bind("keydown."+o,e,e._panelKeyDown)):(n.unbind("keydown",e._panelKeyDown),e._keyboardBind=undefined)},_dragStop:function(e,t,n){var r={dragHandle:n};t._trigger("dragStop",e,r)},_contentMouseMove:function(e){var n=e.data,r=n.options,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y;if(r.disabled)return;i=r.hScroller,s=r.vScroller,o=t(e.currentTarget),u=n._fields(),a=n._hasMode(i,"edge"),f=n._hasMode(s,"edge"),n._clearInterval(),l={X:e.pageX,Y:e.pageY},c=o.offset(),h=c.left,p=c.top,h=l.X-h,p=l.Y-p,d=i.hoverEdgeSpan,v=s.hoverEdgeSpan,m=o.innerHeight(),g=o.innerWidth(),y="",a&&(h<d&&(y="left"),h>g-d&&(y="right")),f&&(p<v&&(y="top"),p>m-v&&(y="bottom")),n._setScrollingInterval(u,y,n,!1)},_setScrollingInterval:function(e,t,n,r){var i=n.options;t.length>0&&(e.internalFuncID=window.setInterval(function(){n._doScrolling(t,n,r)},i.keyDownInterval))},_scrollButtonMouseOver:function(e){var n=e.data,r=n.options,i;if(r.disabled)return;i=t(e.currentTarget),i.hasClass(r.wijCSS.stateDisabled)||(i.bind("mouseout."+n.widgetName,n,n._buttonMouseOut).bind("mousedown."+n.widgetName,n,n._buttonMouseDown).bind("mouseup."+n.widgetName,n,n._buttonMouseUp).addClass(r.wijCSS.stateHover),n._buttonScroll(i,n,"buttonshover"))},_buttonScroll:function(e,t,n){var r="",i=t.options,s=t._fields(),o=t._hasMode(i.hScroller,n),u=t._hasMode(i.vScroller,n);e.hasClass("wijmo-wijsuperpanel-buttonleft")&&o?r="left":e.hasClass("wijmo-wijsuperpanel-buttonright")&&o?r="right":e.hasClass("wijmo-wijsuperpanel-buttontop")&&u?r="top":e.hasClass("wijmo-wijsuperpanel-buttonbottom")&&u&&(r="bottom"),r.length>0&&(t._clearInterval(),t._doScrolling(r,t,!0),t._setScrollingInterval(s,r,t,!0))},_listenContentScroll:function(){var e=this,t=e.options,n=e._fields(),r=n.hbarContainer,i=n.hbarDrag,s=n.vbarContainer,o=n.vbarDrag,u=n.templateWrapper,a=n.contentWrapper,f=a.width(),l=a.height(),c=u&&u.offset(),h=c&&c.left,p=c&&c.top,d=n.contentWidth,v=n.contentHeight;a.bind("scroll",function(n){var c=u.position(),h=c.left,p=c.top;a.scrollTop(0).scrollLeft(0),u.css({left:h,top:p}),h<=0&&h>f-d&&(t.hScroller.scrollValue=e.scrollPxToValue(-h,"h"),e._scrollDrag("h",r,i,!0)),p<=0&&p>l-v&&(t.vScroller.scrollValue=e.scrollPxToValue(-p,"v"),e._scrollDrag("v",s,o,!0))})},_buttonMouseDown:function(e){var n=e.data,r,i=n.options.wijCSS;if(n.options.disabled)return;r=t(e.currentTarget),r.hasClass(i.stateDisabled)||(r.addClass(i.stateActive),n._buttonScroll(r,n,"buttons"))},_buttonMouseUp:function(e){var n=e.data,r=t(e.currentTarget);r.removeClass(n.options.wijCSS.stateActive),n._clearInterval()},_buttonMouseOut:function(e){var n=e.data,r=n.options.wijCSS,i=t(e.currentTarget);i.unbind("mouseout",n._buttonMouseOut).unbind("mousedown",n._buttonMouseDown).unbind("mouseup",n._buttonMouseUp).removeClass(r.stateHover).removeClass(r.stateActive),n._clearInterval()},getKeyCodeEnum:function(){if(t.ui&&t.ui.keyCode)return t.ui.keyCode;if(t.mobile&&t.mobile.keyCode)return t.mobile.keyCode;throw"keyCode object is not found"},_panelKeyDown:function(e){var t=e.data,n=t.options,r,i,s=t.getKeyCodeEnum();if(!n.keyboardSupport||n.disabled)return;r=e.shiftKey,i=e.keyCode,i===s.LEFT?t._doScrolling("left",t,r):i===s.RIGHT?t._doScrolling("right",t,r):i===s.UP?t._doScrolling("top",t,r):i===s.DOWN&&t._doScrolling("bottom",t,r),e.stopPropagation(),e.preventDefault()},_draggingInternal:function(e,t,n,r){var i=n.dir,s=i==="h",o=s?"left":"top",u=e.position[o]-t._getScrollContainerPadding(o),a=t._getTrackLen(i)-r[s?"outerWidth":"outerHeight"](!0),f=u/a,l=n.scrollMax-n.scrollLargeChange+1,c=f*l,h,p,d;c<n.scrollMin&&(c=n.scrollMin),c>l&&(c=l),h={oldValue:n.scrollValue,newValue:c,dir:i};if(!t._scrolling(!0,t,h))return;t.customScroll&&(d=Math.abs(t.customScroll),p=t.scrollPxToValue(d,n.dir)),n.scrollValue=p||c,t.customScroll=undefined,t._setDragAndContentPosition(!0,!1,i,"dragging")},_dragging:function(e,n,r){var i=r.options,s=t(e.target),u=s.parent();u.hasClass(o)?r._draggingInternal(n,r,i.hScroller,s):r._draggingInternal(n,r,i.vScroller,s)},_panelMouseWheel:function(e,n){var r=e.data,i=r.options,s,u,a,f,l,c;if(!i.mouseWheelSupport||i.disabled)return;s=t(e.srcElement||e.originalEvent.target),u="",a=s.closest("."+o,r.element).size()>0,f=i.hScroller,l=i.vScroller,n>0?u=a?"left":"top":u=a?"right":"bottom",u.length>0&&r._doScrolling(u,r),c=!1,u==="left"&&(c=!r.hNeedScrollBar||Math.abs(f.scrollValue-f.scrollMin)<.001),u==="right"&&(c=!r.hNeedScrollBar||Math.abs(f.scrollValue-(f.scrollMax-r._getHScrollBarLargeChange()+1))<.001),u==="top"&&(c=!r.vNeedScrollBar||Math.abs(l.scrollValue-l.scrollMin)<.001),u==="bottom"&&(c=!r.vNeedScrollBar||Math.abs(l.scrollValue-(l.scrollMax-r._getVScrollBarLargeChange()+1))<.001);if(!c||!i.bubbleScrollingEvent||u==="left"||u==="right")e.stopPropagation(),e.preventDefault()},_documentMouseUp:function(e){var n=e.data.self,r=n.options,i=e.data.ele;i.removeClass(r.wijCSS.stateActive),n._clearInterval(),t(document).unbind("mouseup",n._documentMouseUp)},_scrollerMouseOver:function(e){var n=e.data,r=n.options,i,s,a;if(r.disabled)return;i=t(e.srcElement||e.originalEvent.target),s=null,a=!1;if(i.hasClass(r.wijCSS.stateDefault))s=i,a=!0;else if(i.parent().hasClass(r.wijCSS.stateDefault))s=i.parent(),a=!0;else if(i.hasClass(u)||i.hasClass(o))s=i;s&&(a&&s.addClass(r.wijCSS.stateHover),s.bind("mouseout."+n.widgetName,n,n._elementMouseOut),s.bind("mousedown."+n.widgetName,n,n._elementMouseDown),s.bind("mouseup."+n.widgetName,n,n._elementMouseUp))},_elementMouseUp:function(e){var n=t(e.currentTarget);n.removeClass(a)},_elementMouseDown:function(e){var n=t(e.currentTarget),r=e.data,i,f,l,c,h,p,d,v;if(r.options.disabled||e.which!==1)return;i="",f=!1,l=!1;if(n.hasClass("wijmo-wijsuperpanel-vbar-buttontop"))i="top",l=!0;else if(n.hasClass("wijmo-wijsuperpanel-vbar-buttonbottom"))i="bottom",l=!0;else if(n.hasClass("wijmo-wijsuperpanel-hbar-buttonleft"))i="left",l=!0;else if(n.hasClass("wijmo-wijsuperpanel-hbar-buttonright"))i="right",l=!0;else{if(n.hasClass(s)){n.addClass(a);return}n.hasClass(o)?(c=n.find("."+s),h=c.offset(),e.pageX<h.left?i="left":i="right",f=!0):n.hasClass(u)&&(p=n.find("."+s),d=p.offset(),e.pageY<d.top?i="top":i="bottom",f=!0)}r._clearInterval(),r._doScrolling(i,r,f),v=r._fields(),r._setScrollingInterval(v,i,r,f),l&&n.addClass(a),t(document).bind("mouseup."+r.widgetName,{self:r,ele:n},r._documentMouseUp)},doScrolling:function(e,t){this._doScrolling(e,this,t)},_setScrollerValue:function(e,t,n,r,i,s,o){var u=t.scrollMin,a=s?r:n,f=t.scrollValue,l,c,h,p,d,v;f||(f=u),l=0;if(i){c=t.scrollMax-r+1;if(Math.abs(f-c)<.001)return o._clearInterval(),!1;h=t.firstStepChangeFix,l=f+a,!s&&Math.abs(f-u)<1e-4&&!isNaN(h)&&(l+=h),l>c&&(l=c)}else{if(Math.abs(f-u)<.001)return o._clearInterval(),!1;l=f-a,l<0&&(l=u)}return p={oldValue:t.scrollValue,newValue:l,direction:e,dir:t.dir},o._scrolling(!0,o,p)?(o.customScroll&&(v=Math.abs(o.customScroll),d=o.scrollPxToValue(v,t.dir)),t.scrollValue=d||l,o.customScroll=undefined,!0):!1},_doScrolling:function(e,t,n){var r=t.options,i=r.vScroller,s=r.hScroller,o=t._getVScrollBarSmallChange(),u=t._getVScrollBarLargeChange(),a=t._getHScrollBarLargeChange(),f=t._getHScrollBarSmallChange();if(e==="top"||e==="bottom"){if(!t._setScrollerValue(e,i,o,u,e==="bottom",n,t))return;e="v"}else if(e==="left"||e==="right"){if(!t._setScrollerValue(e,s,f,a,e==="right",n,t))return;e="h"}t._setDragAndContentPosition(!0,!0,e)},_disableButtonIfNeeded:function(e){var t=e._fields(),n,r,i,s,o,u,a,f,l,c,h,p,d;t.intervalID>0&&window.clearInterval(t.intervalID),n=e.options,r=t.buttonLeft,i=t.buttonRight,s=t.buttonTop,o=t.buttonBottom,r!==undefined&&(u=e._getHScrollBarLargeChange(),a=n.hScroller.scrollMax-u+1,f=n.hScroller.scrollValue,l=n.hScroller.scrollMin,f===undefined&&(f=l),Math.abs(f-l)<.001||!t.hScrolling?r.addClass(n.wijCSS.stateDisabled):r.removeClass(n.wijCSS.stateDisabled),Math.abs(f-a)<.001||!t.hScrolling?i.addClass(n.wijCSS.stateDisabled):i.removeClass(n.wijCSS.stateDisabled)),s!==undefined&&(c=e._getVScrollBarLargeChange(),h=n.vScroller.scrollMax-c+1,p=n.vScroller.scrollValue,d=n.vScroller.scrollMin,p===undefined&&(p=d),Math.abs(p-d)<.001||!t.vScrolling?s.addClass(n.wijCSS.stateDisabled):s.removeClass(n.wijCSS.stateDisabled),Math.abs(p-h)<.001||!t.vScrolling?o.addClass(n.wijCSS.stateDisabled):o.removeClass(n.wijCSS.stateDisabled))},_clearInterval:function(){var e=this._fields(),t=e.internalFuncID;t>0&&(window.clearInterval(t),e.internalFuncID=-1)},_elementMouseOut:function(e){var n=t(e.currentTarget),r=e.data;n.unbind("mouseout",r._elementMouseOut),n.unbind("mousedown",r._elementMouseDown),n.unbind("mouseup",r._elementMouseUp),n.removeClass(r.options.wijCSS.stateHover)},_getScrollOffset:function(e){var n=t(e),r,i,s,o,u,a,f,l,c,h,p={left:null,top:null};return n.length===0?p:(r=this._fields(),i=r.contentWrapper,s=r.templateWrapper,o=n.offset(),u=s.offset(),o.leftWidth=o.left+n.outerWidth(),o.topHeight=o.top+n.outerHeight(),a=i.offset(),a.leftWidth=a.left+i.outerWidth(),a.topHeight=a.top+i.outerHeight(),c=o.left-u.left,o.left<a.left?p.left=c:o.leftWidth>a.leftWidth&&(h=o.leftWidth-u.left-i.innerWidth(),c<h?p.left=c:p.left=h),f=o.top-u.top,o.top<a.top?p.top=f:o.topHeight>a.topHeight&&(l=o.topHeight-u.top-i.innerHeight(),f<l?p.top=f:p.top=l),p)},_scrollDrag:function(e,t,n,r){var i=this,s=i.options,o=e==="v",u=o?s.vScroller:s.hScroller,a=u.scrollMin,f=u.scrollMax,l=u.scrollValue===undefined?a:u.scrollValue-a,c=i._getLargeChange(e),h=f-a-c+1,p=-1,d,v,m;l>h&&(l=h),t!==undefined&&(d=i._getTrackLen(e),v=n[o?"outerHeight":"outerWidth"](),m=i._getScrollContainerPadding(o?"top":"left"),p=l/h*(d-v)+m),p>=0&&n.css(o?"top":"left",p+"px"),i._scrollEnd(r,i,e)},needToScroll:function(e){var t=this._getScrollOffset(e);return t.top!==null||t.left!==null},scrollChildIntoView:function(e){var t=this._getScrollOffset(e),n=t.left,r=t.top;n!==null&&this.hScrollTo(n),r!==null&&this.vScrollTo(r)},hScrollTo:function(e){var t=this.options;t.hScroller.scrollValue=this.scrollPxToValue(e,"h"),this._setDragAndContentPosition(!0,!0,"h","nonestop")},vScrollTo:function(e){var t=this.options;t.vScroller.scrollValue=this.scrollPxToValue(e,"v"),this._setDragAndContentPosition(!0,!0,"v","nonestop")},scrollPxToValue:function(e,t){var n=this.options,r=t==="h"?"outerWidth":"outerHeight",i=t==="h"?"contentWidth":"contentHeight",s=t==="h"?"hScroller":"vScroller",o=this._fields(),u=o.contentWrapper,a=o[i],f=u[r](),l=n[s].scrollMin,c=n[s].scrollMax,h=c-l,p=t==="h"?this._getHScrollBarLargeChange():this._getVScrollBarLargeChange(),d=h-p+1,v=d*(e/(a-f));return v<l&&(v=l),v>d&&(v=d),v},scrollTo:function(e,t){this.hScrollTo(e),this.vScrollTo(t)},refresh:function(){this.paintPanel()},paintPanel:function(e){var n=this,r=n.element,i,s,o,u;return r.is(":visible")?(i=typeof document.activeElement!="unknown"?document.activeElement:undefined,s=n.options,o=n._fields(),o.initialized||n._initialize(o,r,n),n._resetLargeChange(n,o,s),n._bindElementEvents(n,o,r,s),u=o.templateWrapper,u.css({"float":"left",left:"0px",top:"0px",width:"auto",height:"auto"}),u.hide(),u.show(),o.contentWidth=u.width(),o.contentHeight=u.height(),u.css("float",""),n._setRounder(n,r),n._setInnerElementsSize(o,r),n._testScroll(n,o,s)===!1?!1:(n._initScrollBars(n,o,s),n._initScrollButtons(n,o,s),n._trigger("painted"),n._paintedMark={date:new Date,mainWidth:r[0].offsetWidth,mainHeight:r[0].offsetHeight,width:o.contentWidth,height:o.contentWidth},i!==undefined&&!e&&t(i).focus(),!0)):!1},_resetLargeChange:function(e,t,n){var r;e._autoVLarge&&(n.vScroller.scrollLargeChange=null),e._autoHLarge&&(n.hScroller.scrollLargeChange=null),t.vTrackLen=undefined,t.hTrackLen=undefined,t.vbarContainer&&(r=t.vbarContainer.children("."+s+":eq(0)"),r.detach(),t.vbarContainer.remove(),t.vbarContainer=undefined),t.hbarContainer&&(r=t.hbarContainer.children("."+s+":eq(0)"),r.detach(),t.hbarContainer.remove(),t.hbarContainer=undefined)},_initialize:function(e,t,n){var r=n.options.wijCSS;e.initialized=!0,t.addClass(["wijmo-wijsuperpanel",r.widget,r.content].join(" ")),e.oldHeight=t.css("height");var i=t.css("overflow");t.css("overflow",""),t.height(t.height()),t.css("overflow",i),n._createAdditionalDom(n,e,t)},getContentElement:function(){return this._fields().templateWrapper},_setButtonPosition:function(e,n,r,i,s,o,u){var a=i==="h",f="mouseover."+e.widgetName,l=a?"buttonLeft":"buttonTop",c=a?"buttonRight":"buttonBottom",d=o[l],v=o[c],m,g,y;e._hasMode(r,"buttons")||e._hasMode(r,"buttonshover")?(m=a?h:p,d===undefined&&(g=t(m).appendTo(u),g.bind(f,e,e._scrollButtonMouseOver),o[l]=d=u.children(a?".wijmo-wijsuperpanel-buttonleft":".wijmo-wijsuperpanel-buttontop"),o[c]=v=u.children(a?".wijmo-wijsuperpanel-buttonright":".wijmo-wijsuperpanel-buttonbottom")),y={my:a?"left":"top",of:s,at:a?"left":"top",collision:"none"},t.extend(y,r.decreaseButtonPosition),d.position(y),y={my:a?"right":"bottom",of:s,at:a?"right":"bottom",collision:"none"},t.extend(y,r.increaseButtonPosition),v.position(y)):d!==undefined&&(d.remove(),v.remove(),o[l]=o[c]=undefined)},_initScrollButtons:function(e,t,n){var r=t.contentWrapper,i=t.stateContainer;e._setButtonPosition(e,n,n.hScroller,"h",r,t,i),e._setButtonPosition(e,n,n.vScroller,"v",r,t,i)},_getVScrollBarSmallChange:function(){var e=this.options,t;return e.vScroller.scrollSmallChange||(t=this._getVScrollBarLargeChange(),e.vScroller.scrollSmallChange=t/2),e.vScroller.scrollSmallChange},_getVScrollBarLargeChange:function(){return this._getLargeChange("v")},_getLargeChange:function(e){var t=this,n=t.options,r=t._fields(),i=e==="v",s=i?n.vScroller:n.hScroller,o=i?"innerHeight":"innerWidth",u=i?"contentHeight":"contentWidth",a=i?"_autoVLarge":"_autoHLarge",f,l,c,h,p,d,v,m;return s.scrollLargeChange?s.scrollLargeChange:(f=s.scrollMax,l=s.scrollMin,c=f-l,h=r.contentWrapper,p=h[o](),d=r[u],v=p/(d-p),m=(c+1)*v/(1+v),isNaN(m)&&(m=0),s.scrollLargeChange=m,t[a]=!0,s.scrollLargeChange)},_getHScrollBarSmallChange:function(){var e=this.options,t;return e.hScroller.scrollSmallChange||(t=this._getHScrollBarLargeChange(),e.hScroller.scrollSmallChange=t/2),e.hScroller.scrollSmallChange},_getHScrollBarLargeChange:function(){return this._getLargeChange("h")},_initScrollBars:function(e,n,r){var i=r.hScroller,s=i.scrollMax,o=i.scrollMin,u=s-o,a=r.vScroller,f=a.scrollMax,l=a.scrollMin,c=f-l,h=n.hbarDrag,p=n.vbarDrag,d,v,m,g,y,b,w,E,S,x;e.hNeedScrollBar&&h.is(":visible")&&(d=e._getHScrollBarLargeChange(),v=e._getTrackLen("h"),m=e._getDragLength(u,d,v,r.hScroller.scrollMinDragLength),h.width(m),g=h.outerWidth(!0)-h.width(),h.width(m-g),y=h.children("span"),y.css("margin-left",(h.width()-y[0].offsetWidth)/2),v<=h.outerWidth(!0)?h.hide():h.show(),e._isDragging==1&&(t(document).trigger("mouseup"),e._isDragging=!1)),e.vNeedScrollBar&&p.is(":visible")&&(b=e._getVScrollBarLargeChange(),w=e._getTrackLen("v"),E=e._getDragLength(c,b,w,r.vScroller.scrollMinDragLength),p.height(E),S=p.outerHeight(!0)-p.height(),p.height(E-S),x=p.children("span"),x.css("margin-top",(p.height()-x[0].offsetHeight)/2),w<=p.outerHeight(!0)?p.hide():p.show(),e._isDragging==1&&(t(document).trigger("mouseup"),e._isDragging=!1)),e._setDragAndContentPosition(!1,!1,"both")},_getTrackLen:function(e){var t=this,n=t._fields(),r=e+"TrackLen",i,s,o,u;return n[r]!==undefined?n[r]:(i=n.hbarContainer,s=n.vbarContainer,o=0,u=0,e==="h"&&(u=t._getScrollContainerPadding("h"),o=i.innerWidth()),e==="v"&&(u=t._getScrollContainerPadding("v"),o=s.innerHeight()),n[r]=o-u,n[r])},_getScrollContainerPadding:function(e){var t=this,n=t._fields(),r=0,i,s;if(e==="h")r=t._getScrollContainerPadding("left")+t._getScrollContainerPadding("right");else if(e==="v")r=t._getScrollContainerPadding("top")+t._getScrollContainerPadding("bottom");else{e==="left"||e==="right"?i=n.hbarContainer:i=n.vbarContainer,s=e+"Padding";if(n[s]!==undefined)return r=n[s],r;i&&i.css&&(r=parseFloat(i.css("padding-"+e))),n[s]=r}return r},_triggerScroll:function(e,t,n){var r={position:e,dir:t,animationOptions:n};this._trigger("scroll",null,r)},_contentDragAnimate:function(e,n,r,i,s,o,u){var a=this,f=a.options,l=e==="v",c=l?f.vScroller:f.hScroller,h=l?"outerHeight":"outerWidth",p=l?"innerHeight":"innerWidth",d=l?"contentHeight":"contentWidth",v=l?"top":"left",m=c.scrollMin,g=c.scrollMax,y=g-m,b=c.scrollValue===undefined?m:c.scrollValue-m,w=a._getLargeChange(e),E=y-w+1,S=a._fields(),x=S.contentWrapper,T=S.templateWrapper,N,C,k,L,A,O,M,_,D,P,H,B;b>E&&(b=E),N=(S[d]-x[p]())*(b/E),Math.abs(N)<.001&&(N=0),N=Math.round(N),C=-1,r!==undefined&&(n&&i.is(":animated")&&s!=="nonestop"&&i.stop(!0,!1),k=a._getTrackLen(e),L=i[h](!0),A=k-L,O=a._getScrollContainerPadding(v),C=b/E*A+O),n&&f.animationOptions&&!f.animationOptions.disabled?(C>=0&&u!=="dragging"&&(M=t.extend({},f.animationOptions),M.complete=undefined,l?_={top:C}:_={left:C},i.animate(_,M)),D=t.extend({},f.animationOptions),P=f.animationOptions.complete,D.complete=function(){a._scrollEnd(o,a,e),t.isFunction(P)&&P(arguments)},n&&T.is(":animated")&&s!=="nonestop"&&T.stop(!0,!1),l?H={top:-N}:H={left:-N},f.customScrolling?a._scrollEnd(o,a,e,b):T.animate(H,D),a._triggerScroll(N,e,D)):c.scrollBarVisibility!=="hidden"&&(B=l?"top":"left",C>=0&&u!=="dragging"&&(i[0].style[B]=C+"px"),f.customScrolling||(T[0].style[B]=-N+"px"),a._triggerScroll(N,e),a._scrollEnd(o,a,e,b))},_setDragAndContentPosition:function(e,t,n,r,i){var s=this,o=s._fields(),u=o.hbarContainer,a=o.hbarDrag,f=o.vbarContainer,l=o.vbarDrag;(n==="both"||n==="h")&&o.hScrolling&&s._contentDragAnimate("h",t,u,a,r,e,i),(n==="both"||n==="v")&&o.vScrolling&&s._contentDragAnimate("v",t,f,l,r,e,i),o.intervalID>0&&window.clearInterval(o.intervalID),o.intervalID=window.setInterval(function(){s._disableButtonIfNeeded(s)},500)},_scrolling:function(e,t,n){var r=!0;return e&&(n.beforePosition=t.getContentElement().position(),t._beforePosition=n.beforePosition,r=t._trigger("scrolling",null,n),t.customScroll=n.customScroll),r},_scrollEnd:function(e,t,n,r){e&&window.setTimeout(function(){var e=t.getContentElement(),i,s;if(!e.is(":visible"))return;i=t.getContentElement().position(),s={dir:n,beforePosition:t._beforePosition,afterPosition:i},isNaN(r)||(s.newValue=r),t._trigger("scrolled",null,s)},0)},_getDragLength:function(e,t,n,r){var i=e/t,s=n/i,o=r;return s<o?s=o:s+1>=n&&(s=n-1),Math.round(s)},_needScrollbar:function(e,t){var n=this._hasMode(e,"scrollbar"),r=e.scrollBarVisibility,i=n&&(r==="visible"||r==="auto"&&t);return i},_bindBarEvent:function(e,n,r){var i=this;e.bind("mouseover."+i.widgetName,i,i._scrollerMouseOver);if(!t.fn.draggable)return;n.draggable({axis:r==="h"?"x":"y",start:function(e,t){i._isDragging=!0},drag:function(e,t){i._dragging(e,t,i)},containment:"parent",stop:function(e){i._dragStop(e,i,r),t(e.target).removeClass(a),i._isDragging=!1}})},_createBarIfNeeded:function(e,n,r,i,o){if(e){var u=this,a,f=u._fields(),l=r+"barContainer",c=r+"barDrag",h=r==="h",p=o[h?"innerHeight":"innerWidth"](),d=f[l]=t(i),v,m;n.append(d),v=d[0][h?"offsetHeight":"offsetWidth"],p-=v,a={direction:h?"horizontal":"vertical",targetBarLen:v,contentLength:p};if(u._trigger(h?"hScrollerActivating":"vScrollerActivating",null,a)===!1)return!1;m=f[c]=d.find("."+s),u._bindBarEvent(d,m,r),o[h?"height":"width"](p)}},_setScrollbarPosition:function(e,t,n,r,i,s,o,u,a,f,l){var c=f==="h",h,p,d,v,m,g,y,b,w,E=t.options.wijCSS;s?(h=r[0][c?"offsetHeight":"offsetWidth"],p=t._getScrollContainerPadding(f),d=c?"top":"left",v=c?{top:"0px",bottom:"auto",left:"auto",right:"auto"}:{left:"0px",right:"auto",top:"auto",bottom:"auto"},m=c?{top:h+"px",left:null}:{left:h+"px"},g=c?{top:"auto",right:"auto",left:"auto",bottom:"0px"}:{left:"auto",right:"0px",top:"auto",bottom:"auto"},y=c?{top:"",left:null}:{left:""},b=n[c?"innerWidth":"innerHeight"](),u===d?(r.css(v),n.css(m),c?(r.children(".wijmo-wijsuperpanel-hbar-buttonleft").removeClass(E.cornerBL).addClass(E.cornerTL),r.children(".wijmo-wijsuperpanel-hbar-buttonright").removeClass(E.cornerBR).addClass(E.cornerTR),r.removeClass(E.cornerBottom).addClass(E.cornerTop)):(r.children(".wijmo-wijsuperpanel-vbar-buttontop").removeClass(E.cornerTR).addClass(E.cornerTL),r.children(".wijmo-wijsuperpanel-vbar-buttonbottom").removeClass(E.cornerBR).addClass(E.cornerBL),r.removeClass(E.cornerRight).addClass(E.cornerLeft))):(r.css(g),n.css(y),c?(r.children(".wijmo-wijsuperpanel-hbar-buttonleft").removeClass(E.cornerTL).addClass(E.cornerBL),r.children(".wijmo-wijsuperpanel-hbar-buttonright").removeClass(E.cornerBL).addClass(E.cornerBR),r.removeClass(E.cornerTop).addClass(E.cornerBottom)):(r.children(".wijmo-wijsuperpanel-vbar-buttontop").removeClass(E.cornerTL).addClass(E.cornerTR),r.children(".wijmo-wijsuperpanel-vbar-buttonbottom").removeClass(E.cornerBL).addClass(E.cornerBR),r.removeClass(E.cornerLeft).addClass(E.cornerRight))),w=0,o&&(w=i[0][c?"offsetWidth":"offsetHeight"],a==="left"?r.css("right","0px"):a==="right"?r.css("left","0px"):a==="top"?r.css("bottom","0px"):a==="bottom"&&r.css("top","0px")),!c&&o&&(w=0),r[c?"width":"height"](b-p),t._enableDisableScrollBar(f,r,!l)):e.css(c?"left":"top","")},_testScroll:function(e,t,n){var r=t.templateWrapper,i=t.contentWrapper,s=t.stateContainer,o=i.innerWidth(),u=i.innerHeight(),a=t.contentWidth,f=t.contentHeight,h,p,d,v,m,g;t.hScrolling=a>o,t.vScrolling=f>u,h=e.hNeedScrollBar=e._needScrollbar(n.hScroller,t.hScrolling);if(e._createBarIfNeeded(h,s,"h",l,i)===!1)return!1;h&&!t.vScrolling&&(r.css("float","left"),t.contentHeight=r.height(),t.vScrolling=t.contentHeight>u-t.hbarContainer[0].offsetHeight,r.css("float","")),p=e.vNeedScrollBar=e._needScrollbar(n.vScroller,t.vScrolling);if(e._createBarIfNeeded(p,s,"v",c,i)===!1)return!1;if(p&&!t.hScrolling){r.css("float","left"),t.contentWidth=r.width(),t.hScrolling=t.contentWidth>o-t.vbarContainer[0].offsetWidth,r.css("float","");if(t.hScrolling&&!h){h=e.hNeedScrollBar=e._needScrollbar(n.hScroller,t.hScrolling);if(e._createBarIfNeeded(h,s,"h",l,i)===!1)return!1}}d=t.hbarContainer,v=t.vbarContainer,m=n.hScroller.scrollBarPosition,g=n.vScroller.scrollBarPosition,e._setScrollbarPosition(r,e,i,d,v,h,p,m,g,"h",t.hScrolling),e._setScrollbarPosition(r,e,i,v,d,p,h,g,m,"v",t.vScrolling)},_enableDisableScrollBar:function(e,t,n){var r=this.options;e==="v"?(t[n?"addClass":"removeClass"]("wijmo-wijsuperpanel-vbarcontainer-disabled"),t.find("."+r.wijCSS.stateDefault)[n?"addClass":"removeClass"](r.wijCSS.stateDisabled)):e==="h"&&(t[n?"addClass":"removeClass"]("wijmo-wijsuperpanel-hbarcontainer-disabled"),t.find("."+r.wijCSS.stateDefault)[n?"addClass":"removeClass"](r.wijCSS.stateDisabled)),t.children("."+s)[n?"hide":"show"]()},_initResizer:function(){var e=this,n=e.options,r=e._fields(),i=r.resizer,s,o;if(!t.fn.resizable)return;!i&&n.allowResize&&(s=n.resizableOptions,o=s.stop,s.stop=function(n){e._resizeStop(n,e),t.isFunction(o)&&o(n)},r.resizer=i=e.element.resizable(s)),!n.allowResize&&r.resizer&&(i.resizable("destroy"),r.resizer=null)},_resizeStop:function(e,t){this.options.autoRefresh||t.paintPanel(!0),t._trigger("resized")},_createAdditionalDom:function(e,n,r){r.attr("tabindex")||(r.attr("tabindex","-1"),n.tabindex=!0);var i=n.stateContainer=t(f),s;n.contentWrapper=i.children(),s=n.templateWrapper=n.contentWrapper.children(),r.contents().each(function(e,r){var i=t(r);if(i.hasClass("wijmo-wijsuperpanel-header")){n.header=i;return}if(i.hasClass("wijmo-wijsuperpanel-footer")){n.footer=i;return}s[0].appendChild(r)}),n.header!==undefined&&r.prepend(n.header),r[0].appendChild(i[0]),n.footer!==undefined&&n.footer.insertAfter(i)},_setRounder:function(e,n){if(this.options.showRounder){n.addClass(this.options.wijCSS.cornerAll);if(e._rounderAdded)return;if(t.browser.msie)return;var r,i,s,o;r=i="",t.browser.webkit?(i="WebkitBorderTopLeftRadius",r="WebkitBorderRadius"):t.browser.mozilla?(i="MozBorderRadiusBottomleft",r="MozBorderRadius"):(i="border-top-left-radius",r="border-radius"),s=n.css(i),o=parseInt(s,10),n.css(r,o+1),e._rounderAdded=!0,e._radiusKey=r}else n.removeClass(this.options.wijCSS.cornerAll)},_setInnerElementsSize:function(e,t){var n=e.stateContainer,r=e.contentWrapper,i=0,s,o,u,a;e.header!==undefined&&(i+=e.header.outerHeight()),e.footer!==undefined&&(i+=e.footer.outerHeight()),s=n[0].style,o=t.innerHeight()-i,u=t.innerWidth(),s.display="none",s.height=o+"px",s.width=u+"px",a=r[0].style,a.height=o+"px",a.width=u+"px",s.display=""}}),r.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,new n),t.wijmo.registerWidget("wijsuperpanel",r.prototype)}else{var s="wijmo-wijsuperpanel-handle",f="<div class='wijmo-wijsuperpanel-statecontainer'><div class='wijmo-wijsuperpanel-contentwrapper-touch'></div></div>";r.prototype=t.extend(!0,{},t.Widget.prototype,{widgetEventPrefix:"wijsuperpanel",_setOption:function(e,n){var r=this,i=r.options,s=r._fields();if(e==="animationOptions"||e==="resizableOptions")n=t.extend(i[e],n);else if(e==="hScroller"||e==="vScroller")n=t.extend(i[e],n),r.refresh();t.Widget.prototype._setOption.apply(r,arguments);switch(e){case"allowResize":r._initResizer();break;case"disabled":r._handleDisabledOption(n,r.element);break;case"mouseWheelSupport":case"keyboardSupport":r._bindElementEvents(r,s,r.element,i)}},_create:function(){var e=this,t=e.options;t.vScroller.dir="v",t.hScroller.dir="h",e._createDom(),e.options.disabled&&e.disable(),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.refresh(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijsuperpanel")},_handleDisabledOption:function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},_createDisabledDiv:function(e){var n=this,r=e?e:n.element,i=r.offset(),s=r.outerWidth(),o=r.outerHeight();return t("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top})},_createDom:function(){var e=this,t=e.element;e.paintPanel(),e._initResizer(),e._bindElementEvents()},_applyOverflow:function(e){var t={},n=this.options,r=n.hScroller.scrollBarVisibility,i=n.vScroller.scrollBarVisibility;t["overflow-x"]=r,t["overflow-y"]=i,e.css(t)},_createAdditionalDom:function(e,n,r){r.attr("tabindex")||(r.attr("tabindex","-1"),n.tabindex=!0);var i=n.stateContainer=t(f),s;e._applyOverflow(n.stateContainer),n.contentWrapper=i.children(),r.contents().each(function(e,r){var i=t(r);if(i.hasClass("wijmo-wijsuperpanel-header")){n.header=i;return}if(i.hasClass("wijmo-wijsuperpanel-footer")){n.footer=i;return}n.contentWrapper[0].appendChild(r)}),n.header!==undefined&&r.prepend(n.header),r[0].appendChild(i[0]),n.footer!==undefined&&n.footer.insertAfter(i),e._resetDom()},_bindElementEvents:function(){var e=this,t=e.element,n=e.options,r=e.widgetName;t.bind("scroll",function(t){e._triggerScroll()}),n.keyboardSupport?e._keyboardBind===undefined&&(e._keyboardBind=!0,t.bind("keydown."+r,e,e._panelKeyDown)):(t.unbind("keydown."+r,e._panelKeyDown),e._keyboardBind=undefined),n.mouseWheelSupport||t.bind("mousewheel",function(e){return e.stopPropagation(),!1})},_setScrollingInterval:function(e,t,n,r){var i=n.options;t.length>0&&(e.internalFuncID=window.setInterval(function(){n._doScrolling(t,n,r)},i.keyDownInterval))},_triggerScroll:function(e,t){var n={position:e,dir:t};this._trigger("scroll",null,n)},_panelKeyDown:function(e){var t=e.data,n=t.options,r,i,s=t.getKeyCodeEnum();if(!n.keyboardSupport||n.disabled)return;r=e.shiftKey,i=e.keyCode,i===s.LEFT?t._doScrolling("left",t,r):i===s.RIGHT?t._doScrolling("right",t,r):i===s.UP?t._doScrolling("top",t,r):i===s.DOWN&&t._doScrolling("bottom",t,r),e.stopPropagation(),e.preventDefault()},_doScrolling:function(e,t,n){var r,i,s,o=t._fields(),u=o.stateContainer[0],a={},f;if(e==="top"||e==="bottom")i="v",s="scrollTop";else if(e==="left"||e==="right")i="h",s="scrollLeft";n?r=t._getLargeChange(i):r=t._getSmallChange(i),f=u[s],e==="top"||e==="left"?a[s]=f-r:a[s]=f+r,t._animateTo(a)},_getLargeChange:function(e){var t=this,n=t._fields(),r,i=e=="h"?n.clientWidth:n.clientHeight;return i?r=i:r=n.stateContainer[e=="h"?"width":"height"](),r},_getSmallChange:function(){return this._getLargeChange()/2},_setRounder:function(e,n){var r=this.options.wijCSS.cornerAll;if(this.options.showRounder){n.addClass(r);if(e._rounderAdded)return;if(t.browser.msie)return;var i,s,o,u;i=s="",t.browser.webkit?(s="WebkitBorderTopLeftRadius",i="WebkitBorderRadius"):t.browser.mozilla?(s="MozBorderRadiusBottomleft",i="MozBorderRadius"):(s="border-top-left-radius",i="border-radius"),o=n.css(s),u=parseInt(o,10),n.css(i,u+1),e._rounderAdded=!0,e._radiusKey=i}else n.removeClass(r)},_initResizer:function(){var e=this,n=e.options,r=e._fields(),i=r.resizer,s,o;if(!t.fn.resizable)return;!i&&n.allowResize&&(s=n.resizableOptions,o=s.stop,s.stop=function(n){e._resetDom(),e._trigger("resized"),t.isFunction(o)&&o(n)},r.resizer=i=e.element.resizable(s)),!n.allowResize&&r.resizer&&(i.resizable("destroy"),r.resizer=null)},_resetDom:function(){var e=this,t=e.options,n=e.element,r=e._fields(),i=n.width(),s=n.height();r.stateContainer.length&&(r.stateContainer.css({width:i,height:s}),r.clientWidth=r.stateContainer[0].clientWidth,r.clientHeight=r.stateContainer[0].clientHeight)},_fields:function(){var e=this,t=e.element,n=e.widgetName+"-fields",r=e._fieldsStore;return r===undefined&&(r={},t.data(n,r),e._fieldsStore=r),r},_getScrollOffset:function(e){var n=t(e),r,i,s,o,u,a,f,l,c,h={left:null,top:null};return n.length===0?h:(r=this._fields(),i=r.contentWrapper,s=n.offset(),s.leftWidth=s.left+n.outerWidth(),s.topHeight=s.top+n.outerHeight(),u=i.offset(),u.leftWidth=u.left+r.clientWidth,u.topHeight=u.top+r.clientHeight,l=s.left-u.left,s.left<u.left?h.left=l:s.leftWidth>u.leftWidth&&(c=s.leftWidth-u.left-r.clientWidth,l<c?h.left=l:h.left=c),a=s.top-u.top,s.top<u.top?h.top=a:s.topHeight>u.topHeight&&(f=s.topHeight-u.top-r.clientHeight,a<f?h.top=a:h.top=f),h)},_initialize:function(e,t,n){var r=n.options.wijCSS;e.initialized=!0,t.addClass(["wijmo-wijsuperpanel",r.widget,r.content].join(" ")),n._setRounder(n,t),n._createAdditionalDom(n,e,t),n._trigger("painted")},_animateTo:function(e){var t=this,n=t.element,r=t.options,i=r.animationOptions,s=t._fields();s.stateContainer.animate(e,i)},destroy:function(){var e=this,n=e.element,r=e.options,i=e._fields(),s,o=r.wijCSS;e.disabledDiv&&(e.disabledDiv.remove(),e.disabledDiv=null),i.resizer!==undefined&&i.resizer.resizable("destroy"),n.unbind("."+e.widgetName),n.removeClass(["wijmo-wijsuperpanel",o.widget,o.content,o.cornerAll].join(" ")),s=i.contentWrapper,s.contents().each(function(e,t){n.append(t)}),i.stateContainer.remove(),t.Widget.prototype.destroy.apply(e,arguments)},doScrolling:function(e,t){this._doScrolling(e,t)},paintPanel:function(e){var t=this,n=t.element,r=t._fields();r.initialized||this._initialize(r,n,t)},needToScroll:function(e){var t=this._getScrollOffset(e);return t.top!==null||t.left!==null},scrollChildIntoView:function(e){var t=this._getScrollOffset(e),n=t.left,r=t.top;this.scrollTo(n,r)},getContentElement:function(){return this._fields().contentWrapper},hScrollTo:function(e){this._animateTo({scrollLeft:e})},vScrollTo:function(e){this._animateTo({scrollTop:e})},refresh:function(){var e=this,t=e._fields();e._applyOverflow(t.stateContainer),e._resetDom()},scrollTo:function(e,t){this._animateTo({scrollTop:t,scrollLeft:e})},scrollPxToValue:function(e,t){return e}}),r.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,{wijMobileCSS:{header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},initSelector:":jqmData(role='wijsuperpanel')",allowResize:!1,animationOptions:{queue:!1,disabled:!1,duration:250,easing:undefined},hScroller:{scrollBarVisibility:"auto",scrollValue:null,scrollMax:100,firstStepChangeFix:0,scrollMin:0,hoverEdgeSpan:20},keyboardSupport:!1,keyDownInterval:100,mouseWheelSupport:!0,resizableOptions:{handles:"all",helper:"ui-widget-content wijmo-wijsuperpanel-helper"},resized:null,painted:null,scroll:null,showRounder:!0,vScroller:{scrollBarVisibility:"auto",scrollValue:null,scrollMax:100,scrollMin:0,firstStepChangeFix:0,hoverEdgeSpan:20}}),t.wijmo.registerWidget("wijsuperpanel",r.prototype)}})(wijmo||(wijmo={}));